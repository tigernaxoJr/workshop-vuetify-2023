import{_ as s,o as a,c as n,Q as e}from"./chunks/framework.cc795e4d.js";const l="/reactivity-overview.png",f=JSON.parse('{"title":"響應性狀態觀察者","description":"","frontmatter":{},"headers":[],"relativePath":"workshop/vue3/reactivity2.md","filePath":"workshop/vue3/reactivity2.md"}'),p={name:"workshop/vue3/reactivity2.md"},o=e(`<h1 id="響應性狀態觀察者" tabindex="-1">響應性狀態觀察者 <a class="header-anchor" href="#響應性狀態觀察者" aria-label="Permalink to &quot;響應性狀態觀察者&quot;">​</a></h1><p>Vue 中，除了在 <code>&lt;template&gt;</code> 區塊中使用響應性狀態來更新 UI 外，我們也可能需要在程式邏輯中追蹤響應性狀態的變化：</p><ul><li>在響應性狀態變化時執行一些動作。</li><li>根據響應性狀態的值來計算出另一個響應性狀態。</li></ul><h2 id="watch-watcheffect" tabindex="-1">watch/watchEffect <a class="header-anchor" href="#watch-watcheffect" aria-label="Permalink to &quot;watch/watchEffect&quot;">​</a></h2><ul><li><code>watch()</code> 在響應性狀態變化時執行一些動作：</li><li><code>watchEffect()</code> 使用跟蹤的狀態進行其他操作時使用，跟蹤執行函式內所有響應性狀態，要注意效能問題。</li></ul><p><a href="https://play.vuejs.org/#eNrNVMFy2jAQ/ZWtLranxB4mNwp0aIZDemjSNkdfNGYNCkZyJRnDMP73rizbhLTl0PRQDtja97R667erE1uUZbyvkE3Y1GRalBYM2qqcp1LsSqUtnEBjPoKa22zTPZZ5jpmFBnKtdhDQ9iCVqcyUNBZ+VGisUBJmbmMYBFGPcGlq1H38a8czUJmKF8URiGW5kMDPOXZcb2P4cBO5LO3ZYY+NgJujzCCUWPe5IpjN4ZRKAJFfALGQKzw80LEfgwjmcDOOPA86VfGeFxWStuBpI+RWyHUcx1SVY1h97MngRFIpGg1xec2FhRydrGBjbWkmSXJEI1Vc2zzhpXCy/b5Xx4R+L+WJn42SYRTFnuH5DWSuWAhRa6UHrb+qXTr8HdypqliBVC4jp312g7B4vI8hgPfQ5ujyugf9NaTrtWHjPzk2AH9pmW+XsLPr0qPhcF/S/+JTJ+fNRp3zvMWpaeJHk4aSFhZ3ZcEt0gpgWs5h1v78aHaLaeImuIV9uoXZkklUcyLV4NXEY1Mhy8rC/manVljMUtbjKYPEpzmnO536OW6aF+ELEd398C+ljK9qGQ9ipsnwediIWUNtkIt1ax1dca07KcvUrhQF6oey7eaUTXrfUkZtrerPbczqCkd9PNtgtv1N/NkcXCxlj9QiqPeYsgGzXK/Renj5/Qse6H0AqcKqIPYV8BsaVVTeCUf7VMkVyX7Ba9Xetxc1jcKTWR4sStMX5YS2bdTyU0YX9d2V0s9yb+Pbvv1Y8xNnpf7X" target="_blank" rel="noreferrer">試試看</a></p><h2 id="computed" tabindex="-1">Computed <a class="header-anchor" href="#computed" aria-label="Permalink to &quot;Computed&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { ref, computed } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;">() {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">height</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">1.7</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 身高（公尺）</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">weight</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">ref</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">60</span><span style="color:#E1E4E8;">) </span><span style="color:#6A737D;">// 體重（公斤）</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">bmi</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">computed</span><span style="color:#E1E4E8;">(() </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (weight.value </span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;"> (height.value </span><span style="color:#F97583;">*</span><span style="color:#E1E4E8;"> height.value)).</span><span style="color:#B392F0;">toFixed</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> { height, weight, bmi }</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { ref, computed } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">height</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1.7</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 身高（公尺）</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">weight</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">60</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">// 體重（公斤）</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">bmi</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">computed</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (weight.value </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> (height.value </span><span style="color:#D73A49;">*</span><span style="color:#24292E;"> height.value)).</span><span style="color:#6F42C1;">toFixed</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> { height, weight, bmi }</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p><a href="https://play.vuejs.org/#eNqNUktu2zAQvcqAG0uFK7UNigCuHKApUiAF+kHbJTeKPLaYSiRBUrYKQeuuuuuid/ANcqL4FhmKtuJFEsQrz7yZx3lPr2PvtU7WDbIZy2xhhHZg0TX6jEtRa2UcdGBwOYVC1bpxuIAelkbVMKGlydFQkVfnny9HNEmvajF5xyWXhZLWQYliVTqYe7bodXL6Nj4gm2Pk9NXYJwJqHt6NohjmZ/tnosCWrPOqwemeIVQx7WdpkEIiqHBY6yp3SBVA5pUB/W5vtrvt/1koMiHpEVi/rNUCqzlngZ8zcL81Ui2b+goN1WlgSQPNyLbb/tv9+fsYW7jvOWykbQZdN2jv+wBk6aiATZmz5M5SrJJrqyR9tc5vcuZtEhWar9oJco8zognXcJZXldp8GnrOkF+HflFi8euB/rVtfY+zbwYtmjVyNmIuNyskKR6++PEFW/o/gqS3qWj6CfA7WlU1/sYwdt7IBZ19NDdceznESsjVT3vROpT2IMof6if7YZ4zSuGHJ6Tfn3uSnAx7XPbkIvlLBpJ92A75DYnbZ3gOUUmhGvIWbSClEl5AGceJUx9FS1l8E7P+DhqID60=" target="_blank" rel="noreferrer">試試看</a></p><h2 id="reactivity-關係圖" tabindex="-1">Reactivity 關係圖 <a class="header-anchor" href="#reactivity-關係圖" aria-label="Permalink to &quot;Reactivity 關係圖&quot;">​</a></h2><p><img src="`+l+'" alt=""></p><h2 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-label="Permalink to &quot;Summary&quot;">​</a></h2><ul><li><code>computed</code>：根據響應性狀態產生另一個響應性狀態，可另外定義 <code>setter</code>。</li><li><code>watch</code>/<code>watchEffect</code>：監聽響應性狀態變化執行相對應的行為。 <ul><li><code>watch</code> 明確指定跟蹤對象；<code>watchEffect</code>跟蹤執行函式內所有響應性狀態。</li><li><code>watch</code> 對象可以是<code>響應性狀態</code>、包含響應性狀態的 <code>getter</code>。</li></ul><ul><li>使用 handle function 停止跟蹤。</li></ul></li></ul><h2 id="reference" tabindex="-1">Reference <a class="header-anchor" href="#reference" aria-label="Permalink to &quot;Reference&quot;">​</a></h2><ul><li><a href="https://vuejs.org/guide/essentials/watchers.html" target="_blank" rel="noreferrer">Vue API Reference-Watchers</a></li><li><a href="https://vuejs.org/guide/essentials/computed.html" target="_blank" rel="noreferrer">Vue API Reference-Computed Properties</a></li></ul>',15),t=[o];function c(r,y,i,E,h,d){return a(),n("div",null,t)}const m=s(p,[["render",c]]);export{f as __pageData,m as default};
